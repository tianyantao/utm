(function(t){function e(e){for(var a,o,r=e[0],c=e[1],l=e[2],d=0,h=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&h.push(s[o][0]),s[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(h.length)h.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},s={app:0},i=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1063:function(t,e,n){},"115e":function(t,e,n){},"236e":function(t,e,n){},"34ce":function(t,e,n){"use strict";var a=n("115e"),s=n.n(a);s.a},4678:function(t,e,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=i(t);return n(e)}function i(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=i,t.exports=s,s.id="4678"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("a026"),s=n("f23d"),i=n("8c4f"),o=(n("202f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[t._v(" 我是主页 ")])}),r=[],c={name:"Home",props:{msg:String}},l=c,u=n("2877"),d=Object(u["a"])(l,o,r,!1,null,"412bb352",null),h=d.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("navs"),n("div",{staticClass:"container case-list"},[n("div",{staticStyle:{"margin-bottom":"16px"}},[n("a-modal",{staticStyle:{bottom:"50px"},attrs:{title:"添加所选case到suite",visible:t.modal1Visible},on:{ok:t.handleEditContentOk,cancel:function(){return t.setModal1Visible(!1)}}},[n("a-radio-group",{staticStyle:{width:"500px"},on:{change:t.onChange}},[n("a-row",t._l(t.options,(function(e){return n("a-col",{key:e.suite_id,attrs:{span:10}},[n("a-radio",{staticStyle:{"padding-left":"5px"},attrs:{value:e.suite_id}},[t._v(t._s(e.suite_name))])],1)})),1)],1)],1),t._v(" "),n("span",{staticStyle:{"padding-left":"10px"}},[n("a-input-search",{staticStyle:{width:"200px"},attrs:{placeholder:"关键字搜索"},on:{change:t.onInputChange},model:{value:t.id_input,callback:function(e){t.id_input=e},expression:"id_input"}})],1),n("span",{staticStyle:{"padding-left":"1%"}},[n("a-select",{staticStyle:{width:"150px"},attrs:{"default-value":"1000"},on:{change:function(e){t.getCaselistBysuite(e)}}},[n("a-select-option",{attrs:{value:"1000"}},[t._v(" 根据suite筛选 ")]),t._l(t.options,(function(e){return n("a-select-option",{key:e.suite_id},[t._v(" "+t._s(e.suite_name)+" ")])}))],2)],1)],1),n("a-table",{attrs:{columns:t.columns,rowKey:function(t){return t.case_id},dataSource:t.data,pagination:t.pagination,loading:t.loading,size:"small",rowSelection:{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange},scroll:{y:630}},on:{change:t.handleTableChange2},scopedSlots:t._u([{key:"name",fn:function(e){return[t._v(" "+t._s(e.first)+" "+t._s(e.last)+" ")]}},{key:"suits",fn:function(e,a){return n("span",{},[1e3!=t.searchSuiteId?n("span",t._l(t.options,(function(e){return n("span",{key:e.suite_id},[t._v(t._s(e.suite_id==t.searchSuiteId?e.suite_name+" ":""))])})),0):n("span",[null===a.suite_ids?n("span",[n("span",[t._v("未设置")])]):n("span",[a.suite_ids.indexOf(",")>=1?n("span",[n("span",[t._v(t._s(t.suite.suite_id==a.suite_ids?t.suite.suite_name+" ":""))])]):n("span",t._l(a.suite_ids.split(","),(function(e){return n("span",{key:e},t._l(t.options,(function(a){return n("span",{key:a.suite_id},[t._v(t._s(a.suite_id==e?a.suite_name+" ":""))])})),0)})),0)])])])}},{key:"action2",fn:function(e,a){return n("span",{},[n("a-select",{staticStyle:{width:"120px"},attrs:{"default-value":"1000"},on:{change:function(e){t.addCase(e,a.case_id)}}},[n("a-select-option",{attrs:{value:"1000"}},[t._v(" 请选择 ")]),t._l(t.options,(function(e){return n("a-select-option",{key:e.suite_id},[t._v(" "+t._s(e.suite_name)+" ")])})),n("a-select-option",{attrs:{value:"0"}},[t._v(" 移除 ")])],2)],1)}},{key:"action",fn:function(e,a){return n("span",{},[n("a-button",{on:{click:function(e){return t.run(a.case_id)}}},[t._v("执行")])],1)}}])}),n("a-modal",{staticStyle:{top:"50px"},attrs:{title:"确认运行环境",visible:t.modal1Visible2},on:{ok:t.handleEditContentOk2,cancel:function(){return t.setModal1Visible2(!1)}}},[n("div",{staticStyle:{"margin-left":"10px","margin-right":"10px",padding:"40px"}},[n("span",{staticClass:"label"},[t._v("当前选择的是："),n("span",{staticStyle:{"font-weight":"bolder"}},[t._v(t._s(t.run_env))])]),n("br"),n("span",{staticStyle:{"padding-right":"10px"}},[t._v("是否切换运行环境")]),n("a-select",{staticStyle:{width:"120px"},attrs:{defaultValue:"run_env",value:t.run_env},on:{change:t.handleEnvChange3}},[n("a-select-option",{attrs:{value:"test",disabled:""}},[t._v("test")]),n("a-select-option",{attrs:{value:"test1",disabled:""}},[t._v("test1")]),n("a-select-option",{attrs:{value:"pre"}},[t._v("pre")]),n("a-select-option",{attrs:{value:"prod"}},[t._v("prod")])],1)],1)])],1),n("a-drawer",{attrs:{placement:"bottom",closable:!1,mask:!1,height:"70",visible:!0}},[n("div",{staticStyle:{float:"right","margin-right":"50%"}},[n("span",{staticStyle:{"font-size":"16px"}},[t._v("已选择了 "),n("span",{staticStyle:{color:"red"}},[t._v(t._s(""+t.selectedRowKeys.length))]),t._v(" 个用例")]),n("span",{staticStyle:{margin:"20px"}},[n("a-button",{attrs:{type:"primary",disabled:!t.hasSelected,loading:t.loading},on:{click:function(e){return t.openSuite()}}},[t._v(" 批量添加到suit ")])],1),n("a-button",{attrs:{type:"primary",disabled:!t.hasSelected,loading:t.loading},on:{click:function(e){return t.run(-1)}}},[t._v(" 批量执行 ")])],1)])],1)},f=[],g=(n("a4d3"),n("4de4"),n("c975"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3")),m=n("2909"),v=n("320c"),b=n.n(v),y=(n("99af"),n("a9e3"),n("d3b7"),n("bc3a")),_=n.n(y);_.a.defaults.headers["Content-Type"]="application/json; charset=UTF-8";var j=_.a.create();j.interceptors.request.use((function(t){var e=t.params,n=t.data,a=t.method;switch(String(a).toUpperCase()){case"POST":case"PUT":case"PATCH":t.data=b()(n||{});break;default:t.params=b()(e||{})}return t}),(function(t){console.error(t)})),j.interceptors.response.use((function(t){var e=t.data,n=t.config,a=e.data,s=e.msg,i=e.code,o=n.url;return 200===Number(e.code)?a:0===String(e.code).indexOf("2")?e:(console.error("\n      XHR request error, the request url is ".concat(o,",\n      code is ").concat(i,",\n      msg is ").concat(s)),Promise.reject(e))}),(function(t){Promise.reject(t)}));var S=j,w=!1,k="http://yapi.235.mistong.com/mock/878",x=-1!==window.location.host.indexOf("qa.mistong.cn"),O=x?"/pytest":"",C={getCurrentEnv:{method:"get",url:"".concat(O,"/env/get"),mockMethod:"get",mockUrl:"".concat(k,"/pytest/env/get")},setEnv:{method:"get",url:"".concat(O,"/env/set"),mockMethod:"get",mockUrl:"".concat(k,"/pytest/env/set")},Status:{method:"get",url:"".concat(O,"/status"),mockMethod:"get",mockUrl:"http://yapi.235.mistong.com/mock/878/pytest/status"},Monitor:{method:"get",url:"".concat(O,"/monitor"),mockMethod:"get",mockUrl:"http://yapi.235.mistong.com/mock/878/pytest/monitor"},getCaseRunningStatus:{method:"get",url:"".concat(O,"/status"),mockMethod:"get",mockUrl:"".concat(k,"/pytest/status")},runCases:{method:"post",url:"".concat(O,"/run"),mockMethod:"post",mockUrl:"".concat(k,"/pytest/run")},fetchCaseList:{method:"get",url:"".concat(O,"/caselist"),mockMethod:"get",mockUrl:"".concat(k,"/pytest/caselist")},GetCaseListBySuiteId:{method:"get",url:"".concat(O,"/suite/case/list"),mockMethod:"get",mockUrl:"".concat(k,"/pytest/suite/case/list")},fetchUrlsList:{method:"get",url:"".concat(O,"/urls/list"),mockMethod:"get",mockUrl:"".concat(k,"/pytest/urls/list")},GetSuiteList:{method:"get",url:"".concat(O,"/suite/list"),mockMethod:"get",mockUrl:"http://yapi.235.mistong.com/mock/1133/suite/list"},DeleteCasesFromSuite:{method:"post",url:"".concat(O,"/suite/case/delete"),mockMethod:"post",mockUrl:"".concat(k,"/pytest/suite/case/delete")},GetRunDetails:{method:"get",url:"".concat(O,"/log/getrundetails"),mockMethod:"get",mockUrl:"http://yapi.235.mistong.com/mock/1133/log/getrundetails"},GetApiLog:{method:"get",url:"".concat(O,"/log/getapilogs"),mockMethod:"get",mockUrl:"http://yapi.235.mistong.com/mock/1133/log/getapilogs"},GetErrorApiLog:{method:"get",url:"".concat(O,"/logs/geterrorapi"),mockMethod:"get",mockUrl:"http://localhost:8876/logs/geterrorapi"},AddCases2Suite:{method:"post",url:"".concat(O,"/suite/case/add"),mockMethod:"post",mockUrl:"http://yapi.235.mistong.com/mock/878/pytest/case/add"}},I=function(t){var e=C[t],n=e.method,a=e.url,s=e.mockUrl,i=e.mockMethod;return{method:w?i||"get":n,url:w?s:a}},R={};Object.keys(C).forEach((function(t){var e=I(t),n=e.method;switch(String(n).toUpperCase()){case"POST":case"PUT":case"PATCH":R[t]=function(t){return S(b()({},e,{data:t}))};break;default:R[t]=function(t){return S(b()({},e,{params:t}))}}})),R.getApiUrl=function(t){return I(t).url};var $=R,P=$,L=n("d1c4");function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach((function(e){Object(g["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var K=[{title:"ID",dataIndex:"case_id",sorter:!0,width:"5%"},{title:"用例名称",dataIndex:"test_method_name",sorter:!0,width:"15%"},{title:"用例标题",dataIndex:"title",sorter:!0,width:"20%"},{title:"作者",dataIndex:"author",sorter:!0,width:"5%",scopedSlots:{customRender:"author"}},{title:"URL",dataIndex:"url",sorter:!0,width:"25%"},{title:"所在suite",dataIndex:"",sorter:!0,scopedSlots:{customRender:"suits"},width:"13%"},{title:"添加到suite",dataIndex:"action2",scopedSlots:{customRender:"action2"},width:"10%"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},width:"5%"}],E={name:"CaseList",components:{AInputSearch:L["a"]},mounted:function(){this.getsuitlist(),this.fetch()},data:function(){return{checked:"",options:[],data:[],pagination:{total:0,pageSize:100,showTotal:function(t){return"共有 ".concat(t," 条数据")}},loading:!1,columns:K,selectedRowKeys:[],env:"test",run_env:"prod",statusMsg:"正在获取中",currentStatus:"正在获取中",modal1Visible2:!1,modal1Visible:!1,searchSuiteId:1e3,caseids:[],id_input:""}},computed:{hasSelected:function(){return this.selectedRowKeys.length>0}},methods:{onInputChange:function(t){var e=t.currentTarget.value;this.searchkey=e;var n=this.originData.filter((function(t){return-1!==String(t.module).indexOf(e)||-1!==String(t.title).indexOf(e)||-1!==String(t.test_method_name).indexOf(e)||-1!==String(t.url.toLocaleLowerCase()).indexOf(e.toLocaleLowerCase())||-1!==String(t.author).indexOf(e)}));this.data=Object(m["a"])(n);var a=D({},this.pagination);a.total=n.length,a.current=1,this.pagination=a},addCase:function(t,e){var n=this;1e3!=t&&(this.$message.loading("正在添加...",0),P.AddCases2Suite({suiteid:t,caseids:[e]}).then((function(t){n.$message.destroy(),t&&t.code?n.$message.error(t.msg,5):(n.$message.success("添加成功",5),n.fetch())})).catch((function(t){n.$message.destroy(),n.$message.error(t,5)})))},getsuitlist:function(){var t=this;return P.GetSuiteList({}).then((function(e){t.options=e})).catch((function(t){console.error(t)})),this.options},openSuite:function(){this.modal1Visible=!0},setModal1Visible:function(t){this.modal1Visible=t},setModal1Visible2:function(t){this.modal1Visible2=t},handleEditContentOk:function(){var t=this;""!=this.checked&&(this.$message.loading("正在添加...",0),P.AddCases2Suite({suiteid:this.checked,caseids:this.selectedRowKeys}).then((function(e){t.$message.destroy(),e&&e.code?t.$message.error(e.msg,5):(t.$message.success("添加成功",5),t.checked="",t.selectedRowKeys=[],t.fetch(),console.log(t.data.msg))})).catch((function(t){console.error(t)})),this.modal1Visible=!1)},onChange:function(t){this.checked=t.target.value},run:function(t){this.modal1Visible2=!0,this.caseids=t>=0?[t]:this.selectedRowKeys},start:function(){var t=this;this.$message.loading("加入运行队列中...",0),P.runCases({caseids:this.caseids,env:this.run_env}).then((function(e){t.$message.destroy(),t.$message.success("已加入队列。reportid:"+e,5),t.selectedRowKeys=[];var n=t.$router.resolve({name:"runningResult",query:{reportid:e}});window.open(n.href,"_blank")})).catch((function(e){t.$message.destroy(),t.$message.error(e&&e.msg||"加入队列失败",5)}))},onSelectChange:function(t){this.selectedRowKeys=t},onShowSizeChange:function(t,e){console.log(t,e)},getCaselistBysuite:function(t){var e=this;if(this.id_input="",this.searchSuiteId=t,1e3==t)return this.data=[],void this.fetch();this.loading=!0,P.GetCaseListBySuiteId({suiteid:t}).then((function(t){var n=D({},e.pagination),a=t.count,s=t.caselist;n.total=a,e.loading=!1,e.data=s,e.originData=s,e.pagination=n}))},handleTableChange2:function(t){var e=D({},this.pagination);e.current=t.current,this.pagination=e,this.selectedRowKeys=[]},handleEnvChange3:function(t){this.run_env=t},handleEditContentOk2:function(){this.modal1Visible2=!1,this.start()},fetch:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};document.getElementById("caselist").click(),this.loading=!0,P.fetchCaseList(D({},e)).then((function(e){var n=D({},t.pagination),a=e.count,s=e.caselist;n.total=a,t.loading=!1,t.data=s,t.originData=s,t.pagination=n}))}}},M=E,U=(n("e4fc"),Object(u["a"])(M,p,f,!1,null,null,null)),T=U.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("navs"),n("div",{staticStyle:{"margin-left":"40px","margin-right":"40px"}},[n("a-row",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",align:"bottom"}},[n("a-col",{attrs:{span:2}},[n("span",[n("a-button",{on:{click:t.addUrl}},[t._v("添加")])],1)]),n("a-col",{attrs:{span:5}},[n("a-input-search",{staticStyle:{width:"250px"},attrs:{placeholder:"关键字搜索"},on:{change:t.onInputChange}})],1),n("a-col",{attrs:{span:4}},[n("span",{staticStyle:{"padding-left":"2%"}},[t._v("是否覆盖: "),n("a-select",{staticStyle:{width:"100px"},attrs:{"default-value":""},on:{change:function(e){t.selected(1,e)}}},[n("a-select-option",{staticStyle:{"padding-left":"30px"},attrs:{value:""}},[t._v(" 全部 ")]),n("a-select-option",{attrs:{value:"已覆盖"}},[t._v(" 已覆盖 ")]),n("a-select-option",{attrs:{value:"未覆盖"}},[t._v(" 未覆盖 ")])],1)],1)]),n("a-col",{attrs:{span:"8"}},[n("span",{staticStyle:{"padding-left":"1%"}},[t._v("从属业务线: "),n("a-select",{staticStyle:{width:"100px"},attrs:{"default-value":""},on:{change:function(e){t.selected(2,e)}}},[n("a-select-option",{staticStyle:{"padding-left":"30px"},attrs:{value:""}},[t._v(" 全部 ")]),n("a-select-option",{attrs:{value:"b"}},[t._v(" 教师端 ")]),n("a-select-option",{attrs:{value:"tiku"}},[t._v(" 题库 ")])],1)],1)]),n("a-col",{staticStyle:{"margin-top":"10px"},attrs:{span:5}},[t._v(" 接口覆盖率: "),n("a-progress",{attrs:{percent:t.percent,type:"circle",width:70}})],1)],1),n("a-row",{key:"2"},[n("a-table",{attrs:{columns:t.columns,rowKey:function(t){return t.case_id},dataSource:t.data,pagination:t.pagination,loading:t.loading,size:"small",scroll:{y:630}},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"name",fn:function(e){return[t._v(" "+t._s(e.first)+" "+t._s(e.last)+" ")]}}])},[n("span",{attrs:{slot:"action"},slot:"action"},[n("a-button",{on:{click:t.showDeleteConfirm}},[t._v("删除")]),n("a-button",{on:{click:t.showConfirm}},[t._v("编辑")])],1)])],1)],1)],1)},q=[],A=(n("a15b"),n("b680"),n("290c")),G=n("da05");function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){Object(g["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var N=[{title:"ID",dataIndex:"id",sorter:!0,width:"2%"},{title:"url",dataIndex:"url",sorter:!0,width:"10%"},{title:"是否已覆盖",dataIndex:"is_cover",sorter:!0,width:"5%"},{title:"从属业务线",dataIndex:"belong",sorter:!0,width:"5%",customRender:function(t){return null===t||""===t?"无":t}},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},width:"5%"},{title:"备注",dataIndex:"remark",sorter:!1,width:"10%",customRender:function(t){return null===t||""===t?"无":t}}],H={name:"UrlsList",components:{ACol:G["b"],ARow:A["a"]},mounted:function(){this.fetch()},data:function(){return{data:[],pagination:{total:0,pageSize:100,showTotal:function(t){return"共有 ".concat(t," 条数据")}},loading:!1,columns:N,selectedRowKeys:[],env:"test",update:!1,percent:0}},computed:{hasSelected:function(){return this.selectedRowKeys.length>0}},methods:{onInputChange:function(t){var e=t.currentTarget.value,n=this.originData.filter((function(t){return-1!==String(t.url).toLocaleLowerCase().indexOf(e.toLocaleLowerCase())||-1!==String(t.remark).indexOf(e)}));this.data=Object(m["a"])(n);var a=F({},this.pagination);a.total=n.length,a.current=1,this.pagination=a},selected:function(t,e){if(1===t){var n=this.originData.filter((function(t){return-1!==String(t.is_cover).toLocaleLowerCase().indexOf(e.toLocaleLowerCase())}));this.data=Object(m["a"])(n);var a=F({},this.pagination);a.total=n.length,a.current=1,this.pagination=a}else if(2===t){var s=this.originData.filter((function(t){return-1!==String(t.belong).toLocaleLowerCase().indexOf(e.toLocaleLowerCase())}));this.data=Object(m["a"])(s);var i=F({},this.pagination);i.total=s.length,i.current=1,this.pagination=i}},onSearch:function(t){var e=this.originData.filter((function(e){return-1!==String(e.url).indexOf(t)||-1!==String(e.remark).indexOf(t)}));this.data=Object(m["a"])(e)},addUrl:function(){this.$confirm({title:"未实现",content:"When clicked the OK button, this dialog will be closed after 1 second",onOk:function(){return new Promise((function(t,e){setTimeout(Math.random()>.5?t:e,1e3)})).catch((function(){return console.log("Oops errors!")}))},onCancel:function(){}})},showConfirm:function(){this.$confirm({title:"未实现",content:"When clicked the OK button, this dialog will be closed after 1 second",onOk:function(){return new Promise((function(t,e){setTimeout(Math.random()>.5?t:e,1e3)})).catch((function(){return console.log("Oops errors!")}))},onCancel:function(){}})},showDeleteConfirm:function(){this.$confirm({title:"确定弃用吗？",content:"弃用后的url不会再进行自动化覆盖",okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){console.log("OK")},onCancel:function(){console.log("Cancel")}})},start:function(){window.open("#/runningResult?id=".concat(this.selectedRowKeys.join("-")))},onSelectChange:function(t){this.selectedRowKeys=t},onShowSizeChange:function(t,e){console.log(t,e)},handleTableChange:function(t){var e=F({},this.pagination);e.current=t.current,this.pagination=e,this.selectedRowKeys=[]},fetch:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};document.getElementById("caseurls").click(),this.loading=!0,P.fetchUrlsList(F({},e)).then((function(e){var n=F({},t.pagination),a=e.total,s=e.url_list,i=e.cover_rate;n.total=a,t.loading=!1,t.data=s,t.originData=s,t.percent=(100*i).toFixed(1),t.pagination=n}))}}},J=H,W=(n("34ce"),Object(u["a"])(J,V,q,!1,null,null,null)),X=W.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"running-result",staticStyle:{"text-align":"center"}},[n("a-divider",[t._v("执行详情")]),n("div",{staticStyle:{"text-align":"center"}},[n("a-progress",{attrs:{type:"circle",percent:t.percent,format:function(t){return"执行进度"+t+"%"}}})],1),t.report?n("h2",[n("a-divider",[t._v("执行结果")])],1):t._e(),t.report?n("p",[t._v("用例执行总数："+t._s(t.detail.total)+" 个")]):t._e(),t.report?n("p",[t._v("断言失败数量："+t._s(t.detail.assert_fail)+" 个")]):t._e(),t.report?n("p",[t._v("执行报错数量："+t._s(t.detail.run_error)+" 个")]):t._e(),t.report?n("p",[t._v("跳过用例数量："+t._s(t.detail.skiped)+" 个")]):t._e(),t.report?n("p",[t._v("成功："+t._s(t.detail.success)+" 个")]):t._e(),t.report?n("p",[n("a",{attrs:{href:t.report,target:"_blank"}},[t._v("查看报告")])]):n("p",[n("a-divider",[t._v("结果加载中，请稍后")])],1),n("a-divider",{attrs:{dashed:""}})],1)])},Q=[],Z=(n("5319"),{name:"RunningResult",props:{msg:String},data:function(){return{loading:!1,result:!1,detail:null,fetchInterval:null,percent:0,report:!1}},mounted:function(){this.fetch(this.$route.query.reportid)},methods:{fetch:function(t){var e=this;if(!this.fetchInterval){var n=-1!==window.location.host.indexOf("qa.mistong.cn"),a=n?"/pytest":"";this.fetchInterval=setInterval((function(){P.getCaseRunningStatus({reportid:t}).then((function(t){100===t.progress&&null!=t.report_url?(e.detail=t,e.report="//".concat(location.host).concat(a).concat(t.report_url),e.percent=100,clearInterval(e.fetchInterval)):(e.detail="执行进度".concat(t.progress),e.percent=Number(String(t.progress).replace("%","")))})).catch((function(t){e.detail=t}))}),1e3)}}}}),tt=Z,et=(n("ee60"),Object(u["a"])(tt,Y,Q,!1,null,"5594302c",null)),nt=et.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("navs"),n("div",{staticClass:"runstatus"},[n("div",[n("div",{staticStyle:{"padding-bottom":"10px",width:"100%"}},[n("span",{staticClass:"t"},[n("a-switch",{attrs:{"checked-children":"查看全部日志","un-checked-children":"查看错误日志","default-checked":""},on:{change:t.errorlog}})],1),n("a-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.start("all")}}},[t._v(" 全量执行 ")]),t._v(" "),n("a-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.start("b")}}},[t._v(" 全量执行B端用例 ")]),t._v(" "),n("a-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.start("tiku")}}},[t._v(" 全量执行tiku用例 ")]),n("a-modal",{staticStyle:{top:"50px"},attrs:{title:"确认运行环境",visible:t.modal1Visible},on:{ok:t.handleEditContentOk,cancel:function(){return t.setModal1Visible(!1)}}},[n("div",{staticStyle:{"margin-left":"10px","margin-right":"10px",padding:"40px"}},[n("span",{staticClass:"label"},[t._v("当前选择的是："),n("span",{staticStyle:{"font-weight":"bolder"}},[t._v(t._s(t.run_env))])]),n("br"),n("span",{staticStyle:{"padding-right":"10px"}},[t._v("是否切换运行环境")]),n("a-select",{staticStyle:{width:"120px"},attrs:{defaultValue:"run_env",value:t.run_env},on:{change:t.handleEnvChange2}},[n("a-select-option",{attrs:{value:"test",disabled:""}},[t._v("test")]),n("a-select-option",{attrs:{value:"test1",disabled:""}},[t._v("test1")]),n("a-select-option",{attrs:{value:"pre"}},[t._v("pre")]),n("a-select-option",{attrs:{value:"prod"}},[t._v("prod")])],1)],1)]),n("div",{staticStyle:{float:"right","margin-left":"10px"}},[n("div",{staticStyle:{float:"right","margin-left":"10px","margin-right":"10px","padding-left":"40px"}},[n("div",[n("span",{staticStyle:{"font-size":"18px","font-weight":"bolder"}},[t._v("当前平台：")]),0===t.status.status?n("span",{staticStyle:{"font-size":"18px",color:"green"}},[t._v("空闲")]):t._e(),1===t.status.status?n("span",{staticStyle:{"font-size":"18px"}},[0===t.status.run_type?n("span",{staticStyle:{color:"red"}},[t._v("监控正在运行")]):n("span",{staticStyle:{color:"#fa8c16"}},[t._v(" 非监控的运行")])]):t._e(),2===t.status.status?n("span",{staticStyle:{"font-size":"18px",color:"blue"}},[t._v("排队中")]):t._e()])]),n("a-button",{staticStyle:{float:"right"},attrs:{disabled:t.currentStatusBtn,type:"primary",loading:t.loading},on:{click:t.ChangeStatus}},[t._v(t._s(t.currentStatus)+" ")])],1)],1)]),n("div",[n("a-table",{attrs:{columns:t.columns,rowKey:function(t){return t.id},pagination:!1,dataSource:t.data,loading:t.loading,scroll:{y:630},size:"small",id:"record => record.id"},scopedSlots:t._u([{key:"status",fn:function(e,a){return n("span",{staticStyle:{"padding-left":"15px"}},[n("a-tag",{key:a.status,attrs:{color:"P"==a.status?"green":"red"}},[t._v(" "+t._s("P"==a.status?"Pass":"Fail")+" ")])],1)}},{key:"is_monitor",fn:function(e,a){return n("span",{staticStyle:{"padding-left":"15px"}},[n("a-tag",{key:a.is_monitor,attrs:{color:"1"==a.is_monitor?"cyan":"orange"}},[t._v(" "+t._s("1"==a.is_monitor?"是":"否")+" ")])],1)}},{key:"action",fn:function(e,a){return n("span",{},[n("a",{on:{click:function(e){return t.toApilogs(a.id,a.status,a.title)}}},[t._v(" 查看详情")])])}}])})],1)])],1)},st=[],it=[{title:"ID",dataIndex:"id",width:"5%"},{title:"用例名称",dataIndex:"test_method_name",width:"10%"},{title:"用例标题",dataIndex:"title",width:"10%"},{title:"url",dataIndex:"url",width:"15%"},{title:"作者",dataIndex:"author",width:"5%"},{title:"执行结果",dataIndex:"status",scopedSlots:{customRender:"status"},width:"5%"},{title:"用时",dataIndex:"elapsed",width:"3%"},{title:"执行时间",dataIndex:"update_time",width:"7%"},{title:"是否监控",dataIndex:"is_monitor",scopedSlots:{customRender:"is_monitor"},width:"5%"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},width:"5%"}],ot={name:"NavPage",mounted:function(){this.getStatus(),this.fetchEnv(),this.getRunDetails(0,20),this.getReportid(0)},data:function(){return{data:[],loading:!1,child_loading:!1,apidata:[],errordata:[],status:[],columns:it,currentStatus:"正在获取中",env:"test",currentStatusBtn:!1,suite:"all",run_env:"test",modal1Visible:!1,reportids:["j.0"]}},methods:{getReportid:function(t){var e=this;P.Status({reportid:t}).then((function(t){e.status=t})).catch((function(t){console.error(t)}))},getStatus:function(){var t=this;P.Status({reportid:0}).then((function(e){t.currentStatus=!0,1===e.status&&0===e.run_type?t.currentStatus="停止监控":t.currentStatus="开启监控"})).catch((function(t){console.error(t)}))},ChangeStatus:function(){var t=this,e={};"开启监控"===this.currentStatus?e.start=1:e.start=0,P.Monitor(e).then((function(n){t.$message.destroy(),n&&200!=n.code?(t.$message.info("失败，请重试",1),t.currentStatus=0===e.start?"停止监控":"开启监控"):(t.$message.success("成功",1),t.currentStatus=1===e.start?"停止监控":"开启监控")})).catch((function(e){t.$message.destroy(),t.$message.error(e.msg,2)}))},fetchEnv:function(){var t=this;P.getCurrentEnv().then((function(e){t.env=e,t.run_env=e}))},handleEnvChange2:function(t){this.run_env=t},start:function(t){this.modal1Visible=!0,this.suite=t},setModal1Visible:function(t){this.modal1Visible=t},handleEditContentOk:function(){var t=this;this.modal1Visible=!1,this.$message.loading("加入运行队列中...",0),P.runCases({suite:this.suite,env:this.run_env}).then((function(e){t.$message.destroy(),t.$message.success("已加入队列。reportid:"+e,5);var n=t.$router.resolve({name:"runningResult",query:{reportid:e}});window.open(n.href,"_blank")})).catch((function(e){t.$message.destroy(),t.$message.error(e&&e.msg||"加入队列失败",5)}))},errorlog:function(t){0==t?this.getRunDetails(1,20):this.getRunDetails(0,20)},getRunDetails:function(t,e){var n=this;this.loading=!0,P.GetRunDetails({status:t,limit:e}).then((function(t){n.loading=!1,n.data=t}))},toApilogs:function(t,e,n){var a=this.$router.resolve({name:"apiLogs",query:{run_id:t,run_result:e,run_title:n}});window.open(a.href,"_blank")}}},rt=ot,ct=(n("9644"),Object(u["a"])(rt,at,st,!1,null,null,null)),lt=ct.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("navs"),n("a-layout",{staticStyle:{padding:"0 40px",height:"100%","margin-top":"40px"}},[n("a-layout-sider",{staticStyle:{border:"none"},attrs:{width:"200"}},[n("a-menu",{staticStyle:{height:"100%",border:"none"},attrs:{mode:"inline","default-selected-keys":[1],"default-open-keys":["sub1"]},on:{click:t.handleClick}},t._l(t.suits,(function(e){return n("a-menu-item",{key:e.suite_id},[t._v(" "+t._s(e.suite_name))])})),1)],1),n("a-layout-content",[n("a-row",{key:"1",staticStyle:{"margin-bottom":"10px","margin-left":"10px"}},[n("a-col",{attrs:{span:"3"}},[n("a-button",{on:{click:t.deleteCases}},[t._v("批量删除("+t._s(t.selectedRowKeys.length)+")")])],1),n("a-col",{attrs:{span:"4"}},[n("a-input-search",{staticStyle:{width:"200px"},attrs:{placeholder:"关键字搜索"},on:{change:t.onInputChange}})],1)],1),n("a-row",{key:"2"},[n("a-table",{attrs:{columns:t.columns,rowKey:function(t){return t.case_id},dataSource:t.data,pagination:t.pagination,loading:t.loading,scroll:{y:630},rowSelection:{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange},size:"small",width:"400"},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"name",fn:function(e){return[t._v(" "+t._s(e.first)+" "+t._s(e.last)+" ")]}},{key:"action",fn:function(e,a){return n("span",{},[n("a-button",{on:{click:function(e){return t.DeleteCasesFromSuite(t.suiteid,[a.case_id])}}},[t._v("删除")])],1)}}])})],1)],1)],1)],1)},dt=[],ht=(n("caad"),n("2532"),n("1fca"));function pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(n),!0).forEach((function(e){Object(g["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var gt=[{title:"ID",dataIndex:"case_id",sorter:!0,width:"5%"},{title:"用例名称",dataIndex:"test_method_name",sorter:!0,width:"25%"},{title:"用例标题",dataIndex:"title",sorter:!0,width:"25%"},{title:"作者",dataIndex:"author",sorter:!0,width:"8%",scopedSlots:{customRender:"author"}},{title:"覆盖URL",dataIndex:"url",sorter:!0,width:"25%"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},width:"8%"}],mt={name:"CaseSuit",components:{ARow:A["a"],AInputSearch:L["a"],ACol:G["b"],ALayoutSider:ht["a"]},mounted:function(){this.fetch()},data:function(){return{suits:[],data:[],loading:!1,columns:gt,pagination:{total:0,pageSize:100,showTotal:function(t){return"共有 ".concat(t," 条数据")}},suiteid:1,selectedRowKeys:[]}},methods:{fetch:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};document.getElementById("casesuite").click(),this.loading=!0,P.GetSuiteList(ft({},e)).then((function(e){t.loading=!1,t.suits=e,t.GetCaseListBySuiteId(t.suiteid)})).catch((function(t){console.error(t)}))},handleClick:function(t){this.GetCaseListBySuiteId(t.key),this.suiteid=t.key,this.selectedRowKeys=[]},GetCaseListBySuiteId:function(t){var e=this;this.loading=!0,P.GetCaseListBySuiteId({suiteid:t}).then((function(t){var n=ft({},e.pagination),a=t.count,s=t.caselist;n.total=a,e.loading=!1,e.data=s,e.originData=s,e.pagination=n}))},onInputChange:function(t){var e=t.currentTarget.value,n=this.originData.filter((function(t){return-1!==String(t.title).indexOf(e)||-1!==String(t.test_method_name).indexOf(e)||-1!==String(t.url.toLocaleLowerCase()).indexOf(e.toLocaleLowerCase())||-1!==String(t.author).indexOf(e)}));this.data=Object(m["a"])(n);var a=ft({},this.pagination);a.total=n.length,a.current=1,this.pagination=a},DeleteCasesFromSuite:function(t,e){var n=this;this.$message.loading("正在删除...",0),P.DeleteCasesFromSuite({suiteid:t,caseids:e}).then((function(t){if(n.$message.destroy(),t&&t.code)n.$message.error(t.msg,5);else{n.originData=n.originData.filter((function(t){return!e.includes(t.case_id)})),n.data=n.originData;var a=ft({},n.pagination);a.total=n.data.length,a.current=1,n.pagination=a;var s=n.selectedRowKeys.filter((function(t){return!e.includes(t)}));n.selectedRowKeys=s,n.$message.success("删除成功",5)}})).catch((function(t){console.error(t)}))},handleTableChange:function(t){var e=ft({},this.pagination);e.current=t.current,this.pagination=e},onSelectChange:function(t){this.selectedRowKeys=t},deleteCases:function(){this.DeleteCasesFromSuite(this.suiteid,this.selectedRowKeys)}}},vt=mt,bt=Object(u["a"])(vt,ut,dt,!1,null,"3ab5543a",null),yt=bt.exports,_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{"margin-left":"50px"}},[n("a",{staticStyle:{"font-size":"24px","font-weight":"bolder"}},[t._v("运行日志如下(Run_id: "+t._s(this.$route.query.run_id)+")")]),n("br"),n("span",{staticStyle:{"font-weight":"bolder","font-size":"16px"}},[t._v("用例名称：")]),t._v(" "),n("span",{staticStyle:{"font-size":"16px"}},[t._v(t._s(this.$route.query.run_title))]),n("br"),n("span",{staticStyle:{"font-weight":"bolder","font-size":"16px"}},[t._v("开始时间：")]),n("span",{staticStyle:{"font-size":"16px"}},[t._v(" "+t._s(t.update_time))]),n("br"),n("span",{staticStyle:{"font-weight":"bolder","font-size":"16px"}},[t._v("运行结果：")]),t._v(" "),n("span",{style:"P"==this.$route.query.run_result?"color: green":"color: red;font-size: 16px;"},[t._v(t._s("P"==this.$route.query.run_result?"通过":"失败"))]),n("br")]),n("div",{staticClass:"center"},[n("a-collapse",{attrs:{bordered:!1},model:{value:t.activeKey,callback:function(e){t.activeKey=e},expression:"activeKey"}},t._l(t.data,(function(e){return n("a-collapse-panel",{key:e.status,style:"200"==e.http_status?"background: lightgreen;":"background: bisque;",attrs:{header:e.req_url}},[n("div",{staticStyle:{"background-color":"#ffffff",padding:"10px"}},[n("p",[n("span",{staticStyle:{"font-weight":"bolder"}},[t._v("运行用时：")]),t._v(" "+t._s(e.elapsed))]),n("p",[n("span",{staticStyle:{"font-weight":"bolder"}},[t._v("http状态：")]),t._v(" "+t._s(e.http_status))]),n("p",[n("span",{staticStyle:{"font-weight":"bolder"}},[t._v("开始时间：")]),t._v(" "+t._s(e.update_time))]),n("p",[n("span",{staticStyle:{"font-weight":"bolder"}},[t._v("接口路径：")]),n("a-tag",{attrs:{color:"blue"}},[t._v(t._s(e.req_method))]),t._v(" "+t._s(e.req_url)+" ")],1),n("p",[n("span",{staticStyle:{"font-weight":"bolder"}},[t._v("请求body：")]),t._v(" "+t._s(e.req_data))]),n("p",[n("span",{staticStyle:{"font-weight":"bolder"}},[t._v("返回headers：")]),t._v(" "+t._s(e.res_headers))]),n("p",{staticStyle:{"word-break":"break-all"}},[n("span",{staticStyle:{"font-weight":"bolder"}},[t._v("返回数据：")]),t._v(" "+t._s(e.res_content))])])])})),1)],1)])},jt=[],St={name:"ApiLogs",mounted:function(){this.fetch()},data:function(){return{data:[],loading:!1,activeKey:[],update_time:""}},methods:{fetch:function(){var t=this;this.loading=!0,P.GetApiLog({run_id:this.$route.query.run_id}).then((function(e){t.loading=!1,t.data=e;for(var n=0;n<e.length;n++)t.data[n].status=0,"200"!=t.data[n].http_status&&t.activeKey.push(n);t.update_time=e[0].update_time,0==t.activeKey.length&&(t.activeKey=[t.data.length-1])})).catch((function(e){console.error(e),t.$message.error("数据未获取到哦~",5)}))}}},wt=St,kt=(n("ce8e"),Object(u["a"])(wt,_t,jt,!1,null,"2cab3252",null)),xt=kt.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-menu",{staticStyle:{"font-size":"16px"},attrs:{mode:"horizontal"},on:{click:t.changeMenu},model:{value:t.current,callback:function(e){t.current=e},expression:"current"}},[n("a-menu-item",{key:"icons"},[n("img",{staticStyle:{width:"130px","padding-left":"20px"},attrs:{src:"icon.jpg"}})]),n("a-menu-item",{key:"main1",attrs:{id:"main1"}},[n("a",{attrs:{href:"#/"}},[t._v("主 页")])]),n("a-menu-item",{key:"caselist",attrs:{id:"caselist"}},[n("a",{attrs:{href:"#/caselist"}},[t._v("case列表")])]),n("a-menu-item",{key:"casesuite",attrs:{id:"casesuite"}},[n("a",{attrs:{href:"#/casesuite"}},[t._v("suite列表")])]),n("a-menu-item",{key:"caseurls",attrs:{id:"caseurls"}},[n("a",{attrs:{href:"#/urls"}},[t._v("urls列表")])])],1)],1)},Ct=[],It={name:"navs",data:function(){return{current:["main1"]}},methods:{changeMenu:function(t){this.current=[t.key],this.$forceUpdate()}}},Rt=It,$t=Object(u["a"])(Rt,Ot,Ct,!1,null,null,null),Pt=$t.exports;a["a"].config.productionTip=!1,a["a"].use(s["a"]),a["a"].use(i["a"]),a["a"].component("navs",Pt);var Lt=[{path:"/caselist",component:T},{path:"/",component:lt},{path:"/urls",component:X},{path:"/home",component:h},{path:"/runningResult",name:"runningResult",component:nt},{path:"/casesuite",component:yt},{path:"/Nav/apiLogs",name:"apiLogs",component:xt}],zt=new i["a"]({routes:Lt,mode:"hash"});new a["a"]({router:zt,template:"<router-view></router-view>"}).$mount("#app")},9644:function(t,e,n){"use strict";var a=n("9c13"),s=n.n(a);s.a},"9c13":function(t,e,n){},ce8e:function(t,e,n){"use strict";var a=n("1063"),s=n.n(a);s.a},e4fc:function(t,e,n){"use strict";var a=n("236e"),s=n.n(a);s.a},e61a:function(t,e,n){},ee60:function(t,e,n){"use strict";var a=n("e61a"),s=n.n(a);s.a}});
//# sourceMappingURL=app.0adfdb78.js.map